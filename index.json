{
  "index.html": {
    "href": "index.html",
    "title": "シミュレーション結果分析のためのAWS環境構築用AWS CDK",
    "keywords": "シミュレーション結果分析のためのAWS環境構築用AWS CDK UE4用人流シミュレーションプラグイン(※) のアウトプットログから分析作成行うためのAWS環境構築用のAWS CDKです。 TODO: 技術検証レポートのURL更新 (※) こちら の技術検証レポートをご確認ください。 構築リソースのイメージ"
  },
  "manual/devMan.html": {
    "href": "manual/devMan.html",
    "title": "環境構築手順書",
    "keywords": "環境構築手順書 1 本書について 本書では、シミュレーション結果分析のためのAWS環境構築用AWS CDKを用いた環境構築手順について記載しています。 2 前提条件 AWSアカウントを未所持の場合、 アカウント作成ページ を参考にAWSアカウントの発行を実施してください。 Standard版のQuickSightアカウントを未所持の場合、 公式ユーザーガイド を参考にサブスクライブを実施してください。 AWS CLIがインストールされていない場合、 公式ユーザーガイド を参考にAWS CLIのインストールおよびプロファイルの設定を実施してください。 Node.jsがインストールされていない場合、 公式ページ を参考にNode.jsの バージョン22以上 のインストールおよび設定を実施してください。 3 実行準備 前提条件の実施により実行環境が整いましたら、 こちら からソースファイルをgit cloneします。 git clone完了後、cdkappディレクトリに移動し、以下コマンドを実行して必要なライブラリのインストールを行います。 cd People-Flow-Simulation-Analysis-AWS-CDK npm ci また、以下の環境変数を設定します。 export PLATEAU_ENV=dev #こちらにはdevもしくはprodを指定 4 実行手順 新規AWS環境の場合、CDKを利用するために最初に一度だけ以下のコマンドの実施が必要です。 npx cdk bootstrap 以下のコマンドでCDKを実行して分析環境をデプロイします。 # デプロイはAWSのdefaultプロファイルに基づき実行されます npm run deploy Tips 個別デプロイ 以下のコマンドでサービス個別のデプロイも可能です。 npm run deploy:AthenaStack #Athenaのみ npm run deploy:GlueDbStack #Glueデータベースのみ npm run deploy:GlueJobStack #Glueジョブのみ npm run deploy:GlueWorkflowStack #Glueワークフローのみ npm run deploy:QuickSightStack #QuickSightのみ npm run deploy:S3Stack #s3バケットのみ"
  },
  "manual/userMan.html": {
    "href": "manual/userMan.html",
    "title": "分析の実行",
    "keywords": "分析の実行 1 本書について 本書では、シミュレーション結果分析のためのAWS環境構築用AWS CDKを用いて構築したAWS上の分析環境で、分析結果を確認する方法を説明します。 2 使い方 2-1 シミュレーションの実行 環境構築手順書で用意したAWSアカウント情報を設定し、別途 UE4用人流シミュレーションプラグイン を用いてシミュレーションを実行します。 シミュレーションの実行が完了するとログが環境構築手順書でデプロイしたS3にアップロードされます。 s3にログがアップロードされ、プラグインにより自動的にGlueワークフローが実行されます。 Glueワークフローの完了後、QuickSightにてデータセットから分析を作成することが可能となります。 サンプル分析の作成手順 環境構築手順書 を参考に各種サービスをデプロイします。 AWSマネジメントコンソールよりs3にアクセスし、以下のバケットを検索します。 PLATEAU_DEV=devの場合 pfss3stack-dev-analyzecsvlogbucket~ 2のバケット配下に以下バケットを作成します。 character-end-log/dt=sample-data character-info-log/dt=sample-data character-start-log/dt=sample-data goal-density-info/dt=sample-data 以下は character-start-log/dt=sample-data を作成した場合のイメージです。 本プロジェクトの以下ディレクトリに格納されている各種サンプルログを対応するバケットにアップロードします。 docfx/resources/userMan/sampleLogs マネジメントコンソールにてAWS Glueにアクセスし、左ペインから Workflows(orchestration) を選択します。 環境構築手順書にてデプロイしたワークフローを選択し、Edit を押下します。 Properties - optional のアコーディオンを開き、以下のように設定を行います（Valueの項目は手順3で設定したバケット名のdt=以降）。 Key: Target Value: sample-data Update workflow を押下します。 ワークフローの画面に戻るため、Run workflow を押下します。 9によりQuickSightのデータセットが作成されますので、そちらから任意の分析を作成できます。 QuickSightでの分析の作成については 公式のユーザーガイド をご確認ください。"
  }
}